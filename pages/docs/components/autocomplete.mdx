import {
  properties,
  AutocompletePlayground,
  AutocompleteMultiPlayground,
  AutocompleteExternalSearchValueExample,
} from '@components/examples/autocomplete'
import PropsTable from '@components/props-table'
import { defaultOptionType } from '@components/examples/shared-props'

# Autocomplete

The Autocomplete component dynamically suggests options as users type into an input field. This enhances user experience by making data entry faster and more accurate, particularly when dealing with large data sets. With multiple selection and customization capabilities, it offers high versatility for a wide range of applications.

This component is built upon fantastic [@floating-ui/react](https://floating-ui.com/) library.<br/>

<AutocompletePlayground />

### Listening to input value changes

Sometimes you need to get to the actual value passed to the input. For example, you might want to use it to make an external API call. In this case, you can use the `onInputChange` prop to listen to the input value changes.

<b>Caveat</b>
When is cleared by default clearable callback the event will be synthetic and will not contain the actual value.

```jsx
  const clearableCallback = () => {
    onChange?.(null)
    props.onInputChange?.({ target: { value: '' } } as any)
    clearSearch()
  }
```

<AutocompleteExternalSearchValueExample />

## Autocompleting multiple options

With the `multiple` prop, the Autocomplete component allows for the selection of multiple options, providing a dynamic and versatile user experience.

<br />
<AutocompleteMultiPlayground />

In the `multiple` mode, the `value` and `onChange` props adjust their signature as follows:

| Property | `!multiple` | `multiple`    |
| -------- | ----------- | ------------- |
| value    | `T`         | `T[]`         |
| onChange | `T => void` | `T[] => void` |

For more details, please refer to the [properties table.](#onChange)

## Component API

<PropsTable
  properties={properties}
  name='Autocomplete'
  description='The main Autocomplete component. Extends props of <a href="/docs/components/input-base">InputBase</a> component.'
/>

<PropsTable
  properties={defaultOptionType}
  name='AutocompleteOptionType'
  description='Default option shape. You can provide your own option shape by passing it to component.'
/>
